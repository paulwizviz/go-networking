version: '3.4'

services:

  webserver:
    build:
      context: ../
      dockerfile: ./build/webserver.dockerfile
    image: ${WEBSERVER_IMAGE}

  httputilproxy:
    build:
      context: ../
      dockerfile: ./build/httputil.dockerfile
    image: ${HTTPUTIL_PROXY_IMAGE}

  customproxy:
    build:
      context: ../
      dockerfile: ./build/customproxy.dockerfile
    image: ${CUSTOM_PROXY_IMAGE}

  p2p:
    build:
      context: ../
      dockerfile: ./build/p2pclient.dockerfile
      args:
        OS_VER: 3.18
        GO_VER: 1.22.0-alpine
    image: ${P2P_CLIENT_IMAGE}

  playground:
    build:
      context: ../
      dockerfile: ./build/playground.dockerfile
      args:
        GO_VER: 1.22.1
        OS_VER: 22.04
    image: ${PLAYGROUND_IMAGE}